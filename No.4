import os
import time
import math

# =========================
# 1️⃣ 国旗（波兰）——上白下红
# =========================
WHITE = "\033[47m  \033[0m"
RED = "\033[41m  \033[0m"
height_flag = 6
print("=== 波兰国旗 ===")
for i in range(height_flag):
    if i < height_flag // 2:
        print(WHITE * 6)  # 上白
    else:
        print(RED * 6)    # 下红

# =========================
# 2️⃣ 图案 d
# =========================
print("\n=== 图案 d ===")
rows = 6
cols = 20
for i in range(rows):
    if i % 2 == 0:
        print("# " * (cols // 2))
    else:
        print(" #" * (cols // 2))

# =========================
# 3️⃣ 函数 y = √x （第一象限）
# =========================
print("\n=== 函数 y = √x ===")
height_func = 9
width_func = 9
scale = 1  # 可以调节缩放
for y in range(height_func, -1, -1):
    line = ""
    for x in range(width_func + 1):
        if int(math.sqrt(x)*scale) == y:
            line += "*"
        else:
            line += " "
    print(line)

# =========================
# 4️⃣ 数值文件分析（sequence.txt）
# =========================
print("\n=== 前125和后125数字绝对值平均 ===")
try:
    with open("sequence.txt") as f:
        numbers = [int(line.strip()) for line in f]

    first_125 = numbers[:125]
    last_125 = numbers[-125:]

    avg_first = sum(abs(n) for n in first_125) / len(first_125)
    avg_last = sum(abs(n) for n in last_125) / len(last_125)

    print(f"前125数字绝对值平均: {avg_first:.2f}")
    print(f"后125数字绝对值平均: {avg_last:.2f}")

except FileNotFoundError:
    print("文件 sequence.txt 未找到，请确保文件在同目录下！")

# =========================
# 5️⃣ 简单动画
# =========================
print("\n=== 动画 ===")
frames = ["(^_^)", "(^o^)"]
for _ in range(5):
    for frame in frames:
        os.system("cls")  # Windows, Linux/Mac 用 clear
        print(frame)
        time.sleep(0.5)
